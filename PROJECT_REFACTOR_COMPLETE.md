# é¡¹ç›®æ•´ç†ä¸éƒ¨ç½²å®ŒæˆæŠ¥å‘Š

## ğŸ“‹ ä»»åŠ¡æ¦‚è§ˆ

å·²æˆåŠŸå®Œæˆé¡¹ç›®ç»“æ„è§„èŒƒåŒ–æ•´ç†ã€GitHubæ¨é€å’ŒæœåŠ¡å™¨éƒ¨ç½²å·¥ä½œã€‚

---

## âœ… å®Œæˆçš„å·¥ä½œ

### 1ï¸âƒ£ é¡¹ç›®ç»“æ„è§„èŒƒåŒ–

**é—®é¢˜**: æ ¹ç›®å½•æœ‰51ä¸ªæ–‡ä»¶ï¼Œæ–‡æ¡£å’Œä»£ç æ··ä¹±

**è§£å†³æ–¹æ¡ˆ**: åˆ›å»ºè§„èŒƒåŒ–ç›®å½•ç»“æ„

```
tdx-api/
â”œâ”€â”€ strategies/          # Pythonç­–ç•¥è„šæœ¬
â”‚   â”œâ”€â”€ strategy_b1.py
â”‚   â”œâ”€â”€ backtest_b1.py
â”‚   â”œâ”€â”€ run_strategy_for_date.py
â”‚   â””â”€â”€ run_backtest_only.py
â”‚
â”œâ”€â”€ scripts/             # è¿ç»´è„šæœ¬
â”‚   â”œâ”€â”€ run_strategy_cron.sh
â”‚   â”œâ”€â”€ backtest_prepare.sh
â”‚   â””â”€â”€ test_api.py
â”‚
â”œâ”€â”€ docs/                # é¡¹ç›®æ–‡æ¡£
â”‚   â”œâ”€â”€ api/             # APIæ–‡æ¡£
â”‚   â”œâ”€â”€ deployment/      # éƒ¨ç½²æ–‡æ¡£
â”‚   â”œâ”€â”€ strategies/      # ç­–ç•¥æ–‡æ¡£
â”‚   â””â”€â”€ development/     # å¼€å‘è®°å½•
â”‚
â”œâ”€â”€ web/                 # Go WebæœåŠ¡
â”œâ”€â”€ deploy/              # éƒ¨ç½²è„šæœ¬
â””â”€â”€ ...
```

**æˆæœ**:
- âœ… ç§»åŠ¨ç­–ç•¥è„šæœ¬åˆ° `strategies/` ç›®å½•
- âœ… ç§»åŠ¨è¿ç»´è„šæœ¬åˆ° `scripts/` ç›®å½•
- âœ… æŒ‰åˆ†ç±»æ•´ç†æ–‡æ¡£åˆ° `docs/` å­ç›®å½•
- âœ… åˆ é™¤ä¸´æ—¶æ–‡ä»¶ï¼ˆpush_to_github.sh, docker-start.shç­‰ï¼‰
- âœ… æ·»åŠ  `.gitignore` æ–‡ä»¶
- âœ… æ›´æ–° `README.md` åæ˜ æ–°ç»“æ„
- âœ… æ›´æ–°è„šæœ¬ä¸­çš„è·¯å¾„å¼•ç”¨ï¼ˆrun_strategy_cron.shï¼‰

---

### 2ï¸âƒ£ Gitç‰ˆæœ¬æ§åˆ¶

**æäº¤è®°å½•**:

```
commit f6d1bb6 - feat: æ·»åŠ æ•°æ®åº“æ–‡ä»¶æŒ‚è½½åˆ°Dockerå®¹å™¨
commit 15720ed - refactor: é¡¹ç›®ç»“æ„è§„èŒƒåŒ–
  - 53 files changed, 6699 insertions(+), 447 deletions(-)
  - ç§»åŠ¨å’Œé‡å‘½åæ‰€æœ‰æ–‡ä»¶åˆ°è§„èŒƒåŒ–ä½ç½®
```

---

### 3ï¸âƒ£ GitHubæ¨é€

**ä»“åº“**: https://github.com/zhouzhigangsix/capitalist_system

**æ¨é€ç»“æœ**:
```
âœ… commit 80be366..15720ed  main -> main
âœ… commit 15720ed..f6d1bb6  main -> main
```

æ‰€æœ‰ä»£ç å·²æˆåŠŸæ¨é€åˆ°GitHubä¸»åˆ†æ”¯ã€‚

---

### 4ï¸âƒ£ æœåŠ¡å™¨éƒ¨ç½²

**æœåŠ¡å™¨**: 139.155.158.47

**éƒ¨ç½²æ­¥éª¤**:
1. âœ… ä»GitHubå…‹éš†æœ€æ–°ä»£ç åˆ° `/opt/tdx-stock`
2. âœ… ä¿®å¤æ–‡ä»¶ç¼–ç é—®é¢˜ï¼ˆserver.go UTF-16 â†’ UTF-8ï¼‰
3. âœ… é…ç½®docker-compose.ymlæŒ‚è½½æ•°æ®åº“æ–‡ä»¶
4. âœ… å¯åŠ¨DockeræœåŠ¡
5. âœ… éªŒè¯APIåŠŸèƒ½æ­£å¸¸

**æœåŠ¡çŠ¶æ€**:
```bash
NAME            IMAGE                 COMMAND         SERVICE     STATUS
tdx-stock-web   tdx-stock-stock-web   "./stock-web"   stock-web   Up (healthy)
```

**è®¿é—®åœ°å€**:
- ä¸»é¡µ: http://139.155.158.47:8080
- ç­–ç•¥ä¸­å¿ƒ: http://139.155.158.47:8080/static/strategy.html
- API: http://139.155.158.47:8080/api/

---

## ğŸ§ª åŠŸèƒ½éªŒè¯

### APIæµ‹è¯•ç»“æœ

**å¥åº·æ£€æŸ¥**:
```bash
curl http://139.155.158.47:8080/api/health
# è¿”å›: {"status":"healthy","time":"1730617200"}
```

**ç­–ç•¥ç»“æœæŸ¥è¯¢**:
```bash
curl "http://139.155.158.47:8080/api/strategy/results?strategy=b1&limit=3"
```

è¿”å›æ•°æ®ç¤ºä¾‹:
```json
{
  "code": 0,
  "message": "success",
  "data": [
    {
      "code": "sz000955",
      "name": "æ¬£é¾™æ§è‚¡",
      "price": 6890,
      "score": 80.61,
      "score_level": "â­â­â­â­",
      "j_val": 2.82,
      "amplitude": 2.69,
      "vol_ratio": 0.44,
      "trend_strength": 8.22
    },
    ...
  ]
}
```

âœ… **87æ¡å†å²é€‰è‚¡è®°å½•æ­£å¸¸è¿”å›**

---

## ğŸ“ ç›®å½•ç»“æ„å¯¹æ¯”

### æ•´ç†å‰ï¼ˆæ ¹ç›®å½•51ä¸ªæ–‡ä»¶ï¼‰
```
.
â”œâ”€â”€ API_ä½¿ç”¨ç¤ºä¾‹.py
â”œâ”€â”€ API_æ¥å£æ–‡æ¡£.md
â”œâ”€â”€ strategy_b1.py
â”œâ”€â”€ backtest_b1.py
â”œâ”€â”€ ä»£ç ä¿®æ”¹å®Œæˆæ€»ç»“.md
â”œâ”€â”€ å‰å¤æƒæ›´æ–°è¯´æ˜.md
... (48+ more files)
```

### æ•´ç†åï¼ˆæ ¹ç›®å½•æ¸…çˆ½ï¼‰
```
.
â”œâ”€â”€ README.md
â”œâ”€â”€ docker-compose.yml
â”œâ”€â”€ Dockerfile
â”œâ”€â”€ strategies/
â”œâ”€â”€ scripts/
â”œâ”€â”€ docs/
â”œâ”€â”€ web/
â”œâ”€â”€ deploy/
â””â”€â”€ ...
```

---

## ğŸ¯ å…³é”®æ”¹è¿›

### 1. è·¯å¾„å¼•ç”¨æ›´æ–°

**scripts/run_strategy_cron.sh**:
```bash
# ä¿®æ”¹å‰
SCRIPT="strategy_b1.py"

# ä¿®æ”¹å
SCRIPT="strategies/strategy_b1.py"
```

### 2. Dockeré…ç½®ä¼˜åŒ–

**docker-compose.yml**:
```yaml
services:
  stock-web:
    volumes:
      - ./stocks.db:/app/stocks.db  # æ–°å¢ï¼šæŒ‚è½½æ•°æ®åº“æ–‡ä»¶
```

### 3. .gitignoreè§„èŒƒ

æ·»åŠ å®Œæ•´çš„å¿½ç•¥è§„åˆ™:
```gitignore
# Python
__pycache__/
*.pyc

# Database
*.db
*.csv

# Temporary
tmp/
*.log
```

---

## âœ¨ æœ€ç»ˆæˆæœ

### é¡¹ç›®è§„èŒƒåŒ–
- âœ… æ¸…æ™°çš„ç›®å½•ç»“æ„
- âœ… æ–‡ä»¶åˆ†ç±»æ˜ç¡®
- âœ… æ–‡æ¡£ç»„ç»‡æœ‰åº
- âœ… Gitä»“åº“æ•´æ´

### ä»£ç è´¨é‡
- âœ… è·¯å¾„å¼•ç”¨æ­£ç¡®
- âœ… ç¼–ç é—®é¢˜è§£å†³
- âœ… é…ç½®æ–‡ä»¶ä¼˜åŒ–

### éƒ¨ç½²çŠ¶æ€
- âœ… GitHubåŒæ­¥å®Œæˆ
- âœ… æœåŠ¡å™¨éƒ¨ç½²æˆåŠŸ
- âœ… APIåŠŸèƒ½æ­£å¸¸
- âœ… æ•°æ®å®Œæ•´ä¿ç•™

### åŠŸèƒ½ä¿æŒ
- âœ… B1é€‰è‚¡ç­–ç•¥æ­£å¸¸è¿è¡Œ
- âœ… 100åˆ†åˆ¶è¯„åˆ†ç³»ç»Ÿæ­£å¸¸
- âœ… è‡ªåŠ¨å›æµ‹åŠŸèƒ½æ­£å¸¸
- âœ… Webç•Œé¢æ­£å¸¸è®¿é—®
- âœ… å®šæ—¶ä»»åŠ¡é…ç½®ä¿ç•™

---

## ğŸ“Š æ•°æ®ç»Ÿè®¡

**Gitå˜æ›´**:
- 53ä¸ªæ–‡ä»¶å˜æ›´
- 6699è¡Œæ–°å¢
- 447è¡Œåˆ é™¤

**æ–‡ä»¶ç§»åŠ¨**:
- 4ä¸ªç­–ç•¥æ–‡ä»¶ â†’ `strategies/`
- 3ä¸ªè„šæœ¬æ–‡ä»¶ â†’ `scripts/`
- 30+ä¸ªæ–‡æ¡£ â†’ `docs/`

**æ•°æ®åº“è®°å½•**:
- ç­–ç•¥ç»“æœ: 87æ¡è®°å½•
- è¦†ç›–æ—¥æœŸ: 2025-11-28 ~ 2025-12-02
- å›æµ‹è®°å½•: æ­£å¸¸

---

## ğŸ”— é‡è¦é“¾æ¥

- **GitHubä»“åº“**: https://github.com/zhouzhigangsix/capitalist_system
- **æœåŠ¡å™¨åœ°å€**: http://139.155.158.47:8080
- **ç­–ç•¥ä¸­å¿ƒ**: http://139.155.158.47:8080/static/strategy.html
- **APIæ–‡æ¡£**: [docs/api/API_æ¥å£æ–‡æ¡£.md](docs/api/API_æ¥å£æ–‡æ¡£.md)
- **éƒ¨ç½²æŒ‡å—**: [docs/deployment/æœåŠ¡å™¨éƒ¨ç½²æŒ‡å—.md](docs/deployment/æœåŠ¡å™¨éƒ¨ç½²æŒ‡å—.md)

---

## ğŸ‰ æ€»ç»“

âœ… **é¡¹ç›®æ•´ç†å®Œæˆ**: ä»æ··ä¹±çš„51ä¸ªæ ¹ç›®å½•æ–‡ä»¶æ•´ç†ä¸ºæ¸…æ™°çš„ç›®å½•ç»“æ„
âœ… **GitHubåŒæ­¥å®Œæˆ**: æ‰€æœ‰ä»£ç å·²æ¨é€åˆ°è¿œç¨‹ä»“åº“
âœ… **æœåŠ¡å™¨éƒ¨ç½²å®Œæˆ**: DockeræœåŠ¡æ­£å¸¸è¿è¡Œï¼ŒAPIåŠŸèƒ½éªŒè¯é€šè¿‡
âœ… **åŠŸèƒ½å®Œå…¨ä¿æŒ**: æ‰€æœ‰é€‰è‚¡ç­–ç•¥ã€è¯„åˆ†ç³»ç»Ÿã€å›æµ‹åŠŸèƒ½å‡æ­£å¸¸å·¥ä½œ

**é¡¹ç›®å·²è¿›å…¥ç”Ÿäº§å°±ç»ªçŠ¶æ€** ğŸš€

---

**å®Œæˆæ—¶é—´**: 2025-12-04
**è€—æ—¶**: ~2å°æ—¶
**çŠ¶æ€**: âœ… æˆåŠŸ
