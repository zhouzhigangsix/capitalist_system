# æœåŠ¡å™¨éƒ¨ç½²æŒ‡å—

## ğŸ“‹ éƒ¨ç½²æ¦‚è§ˆ

æœ¬æŒ‡å—å°†å¸®åŠ©ä½ å°† TDX Stock System éƒ¨ç½²åˆ°ç”Ÿäº§æœåŠ¡å™¨å¹¶é€šè¿‡åŸŸåæš´éœ²åˆ°å…¬ç½‘ã€‚

**æœåŠ¡å™¨ä¿¡æ¯:**
- IP: `139.155.158.47`
- ç”¨æˆ·: `root`
- éƒ¨ç½²ç›®å½•: `/opt/tdx-stock`
- ç³»ç»Ÿ: CentOS 7 x86_64

**å·²éƒ¨ç½²åŠŸèƒ½:**
- âœ… è‚¡ç¥¨è¡Œæƒ…æŸ¥è¯¢ç³»ç»Ÿ
- âœ… B1é‡åŒ–é€‰è‚¡ç­–ç•¥ï¼ˆ100åˆ†åˆ¶è¯„åˆ†ï¼‰
- âœ… å®šæ—¶ä»»åŠ¡ï¼ˆæ¯å¤©15:13è‡ªåŠ¨æ‰§è¡Œï¼‰
- âœ… Dockerå®¹å™¨åŒ–éƒ¨ç½²
- âœ… Nginxåå‘ä»£ç†

**è®¿é—®åœ°å€:**
- ä¸»é¡µï¼ˆè‡ªåŠ¨è·³è½¬ç­–ç•¥é¡µï¼‰: http://139.155.158.47/
- é€‰è‚¡ç­–ç•¥ä¸­å¿ƒ: http://139.155.158.47/strategy.html
- APIæ¥å£: http://139.155.158.47/api/strategy/results

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

1. **æœ¬åœ°ç¯å¢ƒ:**
   - Git
   - SSH å®¢æˆ·ç«¯
   - Bash (Linux/Mac) æˆ– Git Bash (Windows)

2. **æœåŠ¡å™¨è¦æ±‚:**
   - Ubuntu 18.04+ / CentOS 7+ / Debian 9+
   - è‡³å°‘ 1GB RAM
   - è‡³å°‘ 10GB ç£ç›˜ç©ºé—´
   - å¼€æ”¾ç«¯å£: 80 (HTTP), 443 (HTTPS)

3. **åŸŸå:**
   - å·²è´­ä¹°çš„åŸŸå
   - å¯ä»¥ä¿®æ”¹ DNS è§£æè®°å½•

### éƒ¨ç½²æ­¥éª¤

#### æ­¥éª¤ 1: é…ç½® SSH å¯†é’¥ (æ¨è)

```bash
# ç”Ÿæˆ SSH å¯†é’¥ (å¦‚æœè¿˜æ²¡æœ‰)
ssh-keygen -t rsa -b 4096

# å¤åˆ¶å…¬é’¥åˆ°æœåŠ¡å™¨
ssh-copy-id root@139.155.158.47

# æµ‹è¯•è¿æ¥
ssh root@139.155.158.47 "echo 'SSHè¿æ¥æˆåŠŸ'"
```

æˆ–è€…ä½¿ç”¨å¯†ç : `im6HZcPuFxqFf1`

#### æ­¥éª¤ 2: ä¸€é”®éƒ¨ç½²

```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œ
cd /Users/zhouzg/Project/tdx-api

# èµ‹äºˆæ‰§è¡Œæƒé™
chmod +x deploy/*.sh

# æ‰§è¡Œéƒ¨ç½²è„šæœ¬
bash deploy/server-deploy.sh
```

è„šæœ¬ä¼šè‡ªåŠ¨å®Œæˆä»¥ä¸‹æ“ä½œ:
1. âœ… æ£€æŸ¥æœ¬åœ°å·¥å…·
2. âœ… æµ‹è¯•æœåŠ¡å™¨è¿æ¥
3. âœ… å®‰è£…æœåŠ¡å™¨ä¾èµ– (Docker, Nginx, Certbot)
4. âœ… åˆ›å»ºéƒ¨ç½²ç›®å½•
5. âœ… ä¸Šä¼ é¡¹ç›®æ–‡ä»¶
6. âœ… å¯åŠ¨ Docker æœåŠ¡
7. âœ… é…ç½® Nginx åå‘ä»£ç†

éƒ¨ç½²å®Œæˆåï¼Œä½ å¯ä»¥é€šè¿‡ IP è®¿é—®æœåŠ¡:
- ä¸»é¡µ: `http://139.155.158.47`
- ç­–ç•¥ä¸­å¿ƒ: `http://139.155.158.47/strategy.html`
- API: `http://139.155.158.47/api/`

#### æ­¥éª¤ 3: é…ç½®åŸŸå

1. **è´­ä¹°åŸŸå** (å¦‚æœè¿˜æ²¡æœ‰)
   - æ¨è: é˜¿é‡Œäº‘ã€è…¾è®¯äº‘ã€GoDaddy

2. **æ·»åŠ  DNS è§£æè®°å½•**

   åœ¨åŸŸåæœåŠ¡å•†çš„ç®¡ç†é¢æ¿ä¸­æ·»åŠ  A è®°å½•:
   ```
   ç±»å‹: A
   ä¸»æœºè®°å½•: @ (æˆ– www)
   è®°å½•å€¼: 139.155.158.47
   TTL: 600
   ```

3. **ç­‰å¾… DNS ç”Ÿæ•ˆ**

   é€šå¸¸éœ€è¦ 10 åˆ†é’Ÿåˆ° 24 å°æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ£€æŸ¥:
   ```bash
   # æ›¿æ¢ä¸ºä½ çš„åŸŸå
   dig +short your-domain.com

   # åº”è¯¥è¿”å›: 139.155.158.47
   ```

#### æ­¥éª¤ 4: é…ç½® SSL è¯ä¹¦

DNS ç”Ÿæ•ˆåï¼Œè¿è¡Œ SSL é…ç½®è„šæœ¬:

```bash
# æ›¿æ¢ä¸ºä½ çš„åŸŸå
bash deploy/setup-ssl.sh your-domain.com

# ç¤ºä¾‹
bash deploy/setup-ssl.sh stock.example.com
```

è„šæœ¬ä¼šè‡ªåŠ¨:
1. âœ… æ£€æŸ¥åŸŸåè§£æ
2. âœ… æ›´æ–° Nginx é…ç½®
3. âœ… ç”³è¯· Let's Encrypt SSL è¯ä¹¦
4. âœ… é…ç½® HTTPS é‡å®šå‘
5. âœ… è®¾ç½®è¯ä¹¦è‡ªåŠ¨ç»­æœŸ

å®Œæˆåï¼Œä½ å¯ä»¥é€šè¿‡ HTTPS è®¿é—®:
- `https://your-domain.com`
- `https://your-domain.com/strategy.html`

## ğŸ“ å¸¸ç”¨æ“ä½œ

### æŸ¥çœ‹æœåŠ¡çŠ¶æ€

```bash
ssh root@139.155.158.47 'cd /opt/tdx-stock && docker-compose ps'
```

### æŸ¥çœ‹æœåŠ¡æ—¥å¿—

```bash
# æŸ¥çœ‹å®æ—¶æ—¥å¿—
ssh root@139.155.158.47 'cd /opt/tdx-stock && docker-compose logs -f'

# æŸ¥çœ‹æœ€è¿‘ 100 è¡Œæ—¥å¿—
ssh root@139.155.158.47 'cd /opt/tdx-stock && docker-compose logs --tail=100'
```

### é‡å¯æœåŠ¡

```bash
ssh root@139.155.158.47 'cd /opt/tdx-stock && docker-compose restart'
```

### åœæ­¢æœåŠ¡

```bash
ssh root@139.155.158.47 'cd /opt/tdx-stock && docker-compose down'
```

### å¯åŠ¨æœåŠ¡

```bash
ssh root@139.155.158.47 'cd /opt/tdx-stock && docker-compose up -d'
```

### å¿«é€Ÿæ›´æ–°ä»£ç 

å½“ä½ ä¿®æ”¹äº†ä»£ç éœ€è¦æ›´æ–°æœåŠ¡å™¨æ—¶:

```bash
bash deploy/quick-deploy.sh
```

è¿™ä¸ªè„šæœ¬ä¼š:
1. ä¸Šä¼ æœ€æ–°ä»£ç 
2. é‡æ–°æ„å»º Docker é•œåƒ
3. é‡å¯æœåŠ¡

## ğŸ”§ é…ç½®é€‰é¡¹

### ä¿®æ”¹ç«¯å£

å¦‚æœéœ€è¦ä¿®æ”¹æœåŠ¡ç«¯å£ï¼Œç¼–è¾‘ [docker-compose.yml](../docker-compose.yml):

```yaml
services:
  stock-web:
    ports:
      - "8080:8080"  # æ”¹ä¸ºå…¶ä»–ç«¯å£ï¼Œå¦‚ "9000:8080"
```

ç„¶åæ›´æ–° [deploy/nginx.conf](nginx.conf) ä¸­çš„ä»£ç†åœ°å€:

```nginx
proxy_pass http://127.0.0.1:8080;  # æ”¹ä¸ºå¯¹åº”ç«¯å£
```

### æ·»åŠ å¤šä¸ªåŸŸå

å¦‚æœéœ€è¦é…ç½®å¤šä¸ªåŸŸåï¼Œç¼–è¾‘ `/etc/nginx/sites-available/tdx-stock.conf`:

```nginx
server_name domain1.com domain2.com;
```

ç„¶åä¸ºæ¯ä¸ªåŸŸåç”³è¯·è¯ä¹¦:

```bash
ssh root@139.155.158.47 'certbot --nginx -d domain1.com -d domain2.com'
```

### é…ç½®ç¯å¢ƒå˜é‡

ç¼–è¾‘ [docker-compose.yml](../docker-compose.yml):

```yaml
environment:
  - TZ=Asia/Shanghai
  - YOUR_ENV_VAR=value
```

## ğŸ›¡ï¸ å®‰å…¨å»ºè®®

### 1. ä¿®æ”¹ SSH ç«¯å£

```bash
ssh root@139.155.158.47

# ç¼–è¾‘ SSH é…ç½®
vi /etc/ssh/sshd_config

# ä¿®æ”¹ç«¯å£
Port 2222

# é‡å¯ SSH
systemctl restart sshd
```

### 2. ç¦ç”¨ root å¯†ç ç™»å½•

```bash
# ç¼–è¾‘ SSH é…ç½®
vi /etc/ssh/sshd_config

# ä¿®æ”¹ä»¥ä¸‹é…ç½®
PasswordAuthentication no
PermitRootLogin prohibit-password

# é‡å¯ SSH
systemctl restart sshd
```

### 3. é…ç½®é˜²ç«å¢™

```bash
# Ubuntu/Debian
ufw allow 80/tcp
ufw allow 443/tcp
ufw allow 22/tcp  # æˆ–ä½ ä¿®æ”¹åçš„ SSH ç«¯å£
ufw enable

# CentOS/RHEL
firewall-cmd --permanent --add-service=http
firewall-cmd --permanent --add-service=https
firewall-cmd --permanent --add-service=ssh
firewall-cmd --reload
```

### 4. å®šæœŸæ›´æ–°ç³»ç»Ÿ

```bash
# Ubuntu/Debian
apt-get update && apt-get upgrade -y

# CentOS/RHEL
yum update -y
```

## ğŸ“Š ç›‘æ§å’Œç»´æŠ¤

### ç£ç›˜ç©ºé—´ç›‘æ§

```bash
ssh root@139.155.158.47 'df -h'
```

### å†…å­˜ä½¿ç”¨ç›‘æ§

```bash
ssh root@139.155.158.47 'free -h'
```

### Docker å®¹å™¨èµ„æºç›‘æ§

```bash
ssh root@139.155.158.47 'docker stats'
```

### æ¸…ç† Docker èµ„æº

```bash
ssh root@139.155.158.47 'docker system prune -a --volumes -f'
```

### æŸ¥çœ‹ SSL è¯ä¹¦çŠ¶æ€

```bash
ssh root@139.155.158.47 'certbot certificates'
```

### æµ‹è¯•è¯ä¹¦è‡ªåŠ¨ç»­æœŸ

```bash
ssh root@139.155.158.47 'certbot renew --dry-run'
```

## ğŸ› æ•…éšœæ’æŸ¥

### æœåŠ¡æ— æ³•å¯åŠ¨

1. æŸ¥çœ‹æ—¥å¿—:
   ```bash
   ssh root@139.155.158.47 'cd /opt/tdx-stock && docker-compose logs'
   ```

2. æ£€æŸ¥ç«¯å£å ç”¨:
   ```bash
   ssh root@139.155.158.47 'netstat -tulpn | grep :8080'
   ```

3. æ£€æŸ¥ Docker çŠ¶æ€:
   ```bash
   ssh root@139.155.158.47 'systemctl status docker'
   ```

### SSL è¯ä¹¦ç”³è¯·å¤±è´¥

1. æ£€æŸ¥åŸŸåè§£æ:
   ```bash
   dig +short your-domain.com
   ```

2. æ£€æŸ¥ 80 ç«¯å£æ˜¯å¦å¼€æ”¾:
   ```bash
   telnet 139.155.158.47 80
   ```

3. æŸ¥çœ‹ Certbot æ—¥å¿—:
   ```bash
   ssh root@139.155.158.47 'cat /var/log/letsencrypt/letsencrypt.log'
   ```

### Nginx é…ç½®é”™è¯¯

1. æµ‹è¯•é…ç½®:
   ```bash
   ssh root@139.155.158.47 'nginx -t'
   ```

2. æŸ¥çœ‹é”™è¯¯æ—¥å¿—:
   ```bash
   ssh root@139.155.158.47 'tail -f /var/log/nginx/error.log'
   ```

### æ— æ³•è¿æ¥åˆ°æœåŠ¡å™¨

1. æ£€æŸ¥æœåŠ¡å™¨æ˜¯å¦åœ¨çº¿:
   ```bash
   ping 139.155.158.47
   ```

2. æ£€æŸ¥ SSH ç«¯å£:
   ```bash
   telnet 139.155.158.47 22
   ```

3. æ£€æŸ¥é˜²ç«å¢™:
   ```bash
   ssh root@139.155.158.47 'ufw status'  # Ubuntu/Debian
   ssh root@139.155.158.47 'firewall-cmd --list-all'  # CentOS/RHEL
   ```

## ğŸ“± è¿è¡Œ Python ç­–ç•¥è„šæœ¬

### é‡åŒ–è¯„åˆ†ç³»ç»Ÿè¯´æ˜

ç³»ç»Ÿå·²å®ç°å®Œæ•´çš„100åˆ†åˆ¶é‡åŒ–è¯„åˆ†æ¨¡å‹ï¼Œç»¼åˆè¯„ä¼°5ä¸ªç»´åº¦ï¼š

1. **è¶…å–ç¨‹åº¦ï¼ˆ30åˆ†ï¼‰**: åŸºäºKDJçš„Jå€¼åˆ¤æ–­è¶…å–å¼ºåº¦
2. **è¶‹åŠ¿å¼ºåº¦ï¼ˆ25åˆ†ï¼‰**: ä»·æ ¼åç¦»çŸ¥è¡Œå¤šç©ºçº¿çš„è·ç¦»
3. **ç¼©é‡ç¨‹åº¦ï¼ˆ20åˆ†ï¼‰**: é‡æ¯”åˆ¤æ–­ç¼©é‡çŠ¶æ€
4. **çŸ­æœŸåŠ¨èƒ½ï¼ˆ15åˆ†ï¼‰**: è¿‘æœŸæ¶¨è·Œå¹…è¯„ä¼°åŠ¨èƒ½
5. **æŒ¯å¹…æ”¶æ•›ï¼ˆ10åˆ†ï¼‰**: æ—¥æŒ¯å¹…åˆ¤æ–­æ³¢åŠ¨æ”¶æ•›

**è¯„åˆ†ç­‰çº§ï¼š**
- 90-100åˆ† â­â­â­â­â­ : æä¼˜ï¼Œé‡ç‚¹å…³æ³¨
- 80-89åˆ†  â­â­â­â­  : ä¼˜ç§€ï¼Œé«˜æ¦‚ç‡æœºä¼š
- 70-79åˆ†  â­â­â­   : è‰¯å¥½ï¼Œç¬¦åˆé¢„æœŸ
- 60-69åˆ†  â­â­    : ä¸€èˆ¬ï¼Œä¿¡å·åå¼±
- <60åˆ†    â­     : è¾ƒå·®ï¼Œä¼˜å…ˆçº§ä½

è¯¦ç»†è¯„åˆ†æ¨¡å‹æ–‡æ¡£ï¼š[docs/B1ç­–ç•¥è¯„åˆ†æ¨¡å‹.md](B1ç­–ç•¥è¯„åˆ†æ¨¡å‹.md)

### åœ¨æœåŠ¡å™¨ä¸Šæ‰‹åŠ¨è¿è¡Œç­–ç•¥

```bash
ssh root@139.155.158.47

cd /opt/tdx-stock

# å®‰è£… Python ä¾èµ–ï¼ˆé¦–æ¬¡éœ€è¦ï¼‰
yum install -y python3 python3-pip
pip3 install requests pandas numpy

# æ‰‹åŠ¨è¿è¡Œç­–ç•¥
python3 strategy_b1.py

# æŸ¥çœ‹è¿è¡Œç»“æœ
sqlite3 stocks.db "SELECT code, name, score FROM strategy_results WHERE date=date('now') ORDER BY score DESC LIMIT 10;"
```

### å·²é…ç½®çš„å®šæ—¶ä»»åŠ¡

ç³»ç»Ÿå·²é…ç½®å®šæ—¶ä»»åŠ¡ï¼Œ**æ¯å¤©ä¸‹åˆ15:13è‡ªåŠ¨æ‰§è¡Œé€‰è‚¡ç­–ç•¥**ï¼ˆæ”¶ç›˜åï¼‰ã€‚

**æŸ¥çœ‹å®šæ—¶ä»»åŠ¡ï¼š**
```bash
ssh root@139.155.158.47 'crontab -l'

# è¾“å‡ºï¼š
# 13 15 * * * /opt/tdx-stock/scripts/run_strategy_cron.sh
```

**æŸ¥çœ‹æ‰§è¡Œæ—¥å¿—ï¼š**
```bash
# æŸ¥çœ‹ä»Šå¤©çš„æ—¥å¿—
ssh root@139.155.158.47 'tail -f /var/log/tdx-stock/strategy_$(date +%Y%m%d).log'

# æŸ¥çœ‹æœ€è¿‘çš„æ—¥å¿—æ–‡ä»¶
ssh root@139.155.158.47 'ls -lt /var/log/tdx-stock/ | head -5'
```

**æ‰‹åŠ¨æµ‹è¯•å®šæ—¶ä»»åŠ¡è„šæœ¬ï¼š**
```bash
ssh root@139.155.158.47 'bash /opt/tdx-stock/scripts/run_strategy_cron.sh'
```

**æ—¥å¿—ç®¡ç†ï¼š**
- æ—¥å¿—ä½ç½®: `/var/log/tdx-stock/strategy_YYYYMMDD.log`
- è‡ªåŠ¨æ¸…ç†: 7å¤©å‰çš„æ—§æ—¥å¿—ä¼šè¢«è‡ªåŠ¨åˆ é™¤
- æ—¥å¿—å†…å®¹: åŒ…å«ç­–ç•¥æ‰§è¡Œæ—¶é—´ã€æ‰¾åˆ°çš„è‚¡ç¥¨æ•°é‡ã€è¯„åˆ†è¯¦æƒ…ç­‰

è¯¦ç»†å®šæ—¶ä»»åŠ¡é…ç½®æŒ‡å—ï¼š[docs/å®šæ—¶ä»»åŠ¡é…ç½®æŒ‡å—.md](å®šæ—¶ä»»åŠ¡é…ç½®æŒ‡å—.md)

### æŸ¥çœ‹é€‰è‚¡ç»“æœ

**é€šè¿‡APIæŸ¥è¯¢ï¼š**
```bash
# æŸ¥çœ‹ä»Šå¤©çš„é€‰è‚¡ç»“æœ
curl "http://139.155.158.47/api/strategy/results?strategy=b1&date=$(date +%Y-%m-%d)"

# æŸ¥çœ‹æ‰€æœ‰æ—¥æœŸçš„ç»“æœï¼ˆæŒ‰è¯„åˆ†é™åºï¼‰
curl "http://139.155.158.47/api/strategy/results?strategy=b1"
```

**é€šè¿‡æ•°æ®åº“æŸ¥è¯¢ï¼š**
```bash
ssh root@139.155.158.47

cd /opt/tdx-stock

# æŸ¥çœ‹ä»Šå¤©çš„Top 10
sqlite3 stocks.db "SELECT code, name, price/100 as price_yuan, score FROM strategy_results WHERE date=date('now') ORDER BY score DESC LIMIT 10;"

# æŸ¥çœ‹æ‰€æœ‰æ—¥æœŸçš„æ•°æ®ç»Ÿè®¡
sqlite3 stocks.db "SELECT date, COUNT(*) as count, MIN(score) as min_score, MAX(score) as max_score FROM strategy_results GROUP BY date ORDER BY date DESC;"

# æŸ¥çœ‹æ»¡åˆ†è‚¡ç¥¨
sqlite3 stocks.db "SELECT date, code, name, score FROM strategy_results WHERE score >= 90 ORDER BY score DESC;"
```

**é€šè¿‡Webç•Œé¢æŸ¥çœ‹ï¼š**
è®¿é—® http://139.155.158.47/strategy.html å¯ä»¥çœ‹åˆ°ï¼š
- è‚¡ç¥¨ä»£ç å’Œåç§°
- æœ€æ–°ä»·æ ¼ï¼ˆå•ä½ï¼šå…ƒï¼‰
- ç»¼åˆè¯„åˆ†å’Œæ˜Ÿçº§
- è¯„åˆ†è¯¦ç»†æ‹†è§£
- KDJ.JæŒ‡æ ‡ã€æ—¥æŒ¯å¹…ã€é‡æ¯”ã€è¶‹åŠ¿å¼ºåº¦ç­‰
- å¯æŒ‰æ—¥æœŸç­›é€‰å†å²æ•°æ®
- ä¸€é”®å¯¼å‡ºCSV

### é…ç½®å®šæ—¶ä»»åŠ¡ï¼ˆå¦‚éœ€ä¿®æ”¹ï¼‰

```bash
ssh root@139.155.158.47

# ç¼–è¾‘ crontab
crontab -e

# å½“å‰é…ç½®ï¼ˆæ¯å¤©15:13æ‰§è¡Œï¼‰
13 15 * * * /opt/tdx-stock/scripts/run_strategy_cron.sh

# ä¿®æ”¹ä¸ºå…¶ä»–æ—¶é—´ï¼Œä¾‹å¦‚æ¯å¤©9:30æ‰§è¡Œ
30 9 * * * /opt/tdx-stock/scripts/run_strategy_cron.sh

# æˆ–è€…åªåœ¨å·¥ä½œæ—¥æ‰§è¡Œï¼ˆå‘¨ä¸€åˆ°å‘¨äº”ï¼‰
13 15 * * 1-5 /opt/tdx-stock/scripts/run_strategy_cron.sh
```

**Crontabæ—¶é—´æ ¼å¼è¯´æ˜ï¼š**
```
åˆ†é’Ÿ å°æ—¶ æ—¥æœŸ æœˆä»½ æ˜ŸæœŸ å‘½ä»¤
â”‚    â”‚    â”‚    â”‚    â”‚
â”‚    â”‚    â”‚    â”‚    â””â”€â”€â”€ æ˜ŸæœŸå‡  (0-7, 0å’Œ7éƒ½æ˜¯å‘¨æ—¥)
â”‚    â”‚    â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€ æœˆä»½ (1-12)
â”‚    â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ æ—¥æœŸ (1-31)
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ å°æ—¶ (0-23)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ åˆ†é’Ÿ (0-59)
```

### æ›´æ–°ç­–ç•¥ä»£ç 

å½“ä½ ä¿®æ”¹äº†ç­–ç•¥ä»£ç åï¼Œä½¿ç”¨å¿«é€Ÿéƒ¨ç½²è„šæœ¬æ›´æ–°ï¼š

```bash
# åœ¨æœ¬åœ°é¡¹ç›®ç›®å½•æ‰§è¡Œ
bash deploy/quick-deploy.sh

# æˆ–è€…æ‰‹åŠ¨ä¸Šä¼ å•ä¸ªæ–‡ä»¶
rsync -avz strategy_b1.py root@139.155.158.47:/opt/tdx-stock/
```

**æ— éœ€é‡å¯cronæˆ–Docker**ï¼Œä¸‹æ¬¡å®šæ—¶ä»»åŠ¡ä¼šè‡ªåŠ¨ä½¿ç”¨æ–°ä»£ç ã€‚

## ğŸ”„ å¤‡ä»½å’Œæ¢å¤

### å¤‡ä»½æ•°æ®åº“

```bash
# ä¸‹è½½æ•°æ®åº“åˆ°æœ¬åœ°
scp root@139.155.158.47:/opt/tdx-stock/stocks.db ./stocks.db.backup

# ä¸Šä¼ æ•°æ®åº“åˆ°æœåŠ¡å™¨
scp ./stocks.db.backup root@139.155.158.47:/opt/tdx-stock/stocks.db
```

### å¤‡ä»½é…ç½®æ–‡ä»¶

```bash
ssh root@139.155.158.47 'tar -czf /tmp/tdx-backup.tar.gz /opt/tdx-stock /etc/nginx/sites-available/tdx-stock.conf'
scp root@139.155.158.47:/tmp/tdx-backup.tar.gz ./tdx-backup.tar.gz
```

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æ£€æŸ¥:
1. [é¡¹ç›®ä¸»æ–‡æ¡£](../README.md)
2. [API æ¥å£æ–‡æ¡£](../API_æ¥å£æ–‡æ¡£.md)
3. [å·²å®ŒæˆåŠŸèƒ½è®°å½•](å·²ç»å®Œæˆè®°å½•.md)
4. [B1ç­–ç•¥è¯„åˆ†æ¨¡å‹](B1ç­–ç•¥è¯„åˆ†æ¨¡å‹.md)
5. [å®šæ—¶ä»»åŠ¡é…ç½®æŒ‡å—](å®šæ—¶ä»»åŠ¡é…ç½®æŒ‡å—.md)
6. [éƒ¨ç½²æˆåŠŸè®°å½•](éƒ¨ç½²æˆåŠŸè®°å½•.md)

---

## ğŸ“Š å½“å‰éƒ¨ç½²çŠ¶æ€æ€»ç»“

**æœ€åæ›´æ–°æ—¶é—´**: 2025-12-01 19:00

### âœ… å·²éƒ¨ç½²çš„åŠŸèƒ½

1. **æ ¸å¿ƒæœåŠ¡**
   - âœ… Dockerå®¹å™¨åŒ–éƒ¨ç½²ï¼ˆDocker CE 26.1.4ï¼‰
   - âœ… Nginxåå‘ä»£ç†ï¼ˆ1.20.1ï¼‰
   - âœ… Goåç«¯æœåŠ¡ï¼ˆ1.22ï¼‰
   - âœ… SQLiteæ•°æ®åº“

2. **é€‰è‚¡ç­–ç•¥ç³»ç»Ÿ**
   - âœ… B1ç­–ç•¥å®ç°ï¼ˆçŸ¥è¡Œå¤šç©ºçº¿ + KDJï¼‰
   - âœ… 100åˆ†åˆ¶é‡åŒ–è¯„åˆ†æ¨¡å‹
   - âœ… 5ç»´åº¦ç»¼åˆè¯„ä¼°ï¼ˆè¶…å–ã€è¶‹åŠ¿ã€ç¼©é‡ã€åŠ¨èƒ½ã€æŒ¯å¹…ï¼‰
   - âœ… æ˜Ÿçº§è¯„ä»·ç³»ç»Ÿï¼ˆâ­â­â­â­â­ï¼‰
   - âœ… è‚¡ç¥¨åç§°è‡ªåŠ¨è·å–
   - âœ… ä»·æ ¼å•ä½æ­£ç¡®æ˜¾ç¤ºï¼ˆå…ƒï¼‰

3. **è‡ªåŠ¨åŒ–ä»»åŠ¡**
   - âœ… Crontabå®šæ—¶ä»»åŠ¡ï¼ˆæ¯å¤©15:13ï¼‰
   - âœ… æ—¥å¿—è‡ªåŠ¨ç®¡ç†ï¼ˆ7å¤©è‡ªåŠ¨æ¸…ç†ï¼‰
   - âœ… ç­–ç•¥æ‰§è¡Œè„šæœ¬ï¼ˆrun_strategy_cron.shï¼‰

4. **Webç•Œé¢**
   - âœ… ä¸»é¡µè‡ªåŠ¨è·³è½¬åˆ°ç­–ç•¥é¡µ
   - âœ… ç­–ç•¥ä¸­å¿ƒé¡µé¢ï¼ˆstrategy.htmlï¼‰
   - âœ… è¯„åˆ†é¢œè‰²åˆ†çº§æ˜¾ç¤º
   - âœ… è¯„åˆ†è¯¦æƒ…æ‹†è§£å±•ç¤º
   - âœ… å†å²æ•°æ®æŸ¥è¯¢
   - âœ… CSVå¯¼å‡ºåŠŸèƒ½

5. **æ•°æ®å­˜å‚¨**
   - âœ… æ•°æ®åº“ç»“æ„å®Œå–„
   - âœ… å†å²æ•°æ®ä¿ç•™ï¼ˆå½“å‰æœ‰2å¤©æ•°æ®ï¼‰
   - âœ… UNIQUEçº¦æŸé˜²æ­¢é‡å¤

### ğŸ“ˆ å½“å‰æ•°æ®ç»Ÿè®¡

**æ•°æ®åº“è®°å½•**: 80æ¡ï¼ˆ2å¤©ï¼‰
- 2025-12-01: 32åªè‚¡ç¥¨ï¼Œæœ€é«˜åˆ†100åˆ†
- 2025-11-28: 48åªè‚¡ç¥¨ï¼Œæœ€é«˜åˆ†84.63åˆ†

**Top 3 é«˜åˆ†è‚¡ç¥¨ï¼ˆ12æœˆ1æ—¥ï¼‰**:
1. sz002713 - *STä¸œæ˜“: 100.0åˆ† â­â­â­â­â­
2. sz000955 - æ¬£é¾™æ§è‚¡: 85.4åˆ† â­â­â­â­
3. sz002836 - æ–°å®æ³½: 82.0åˆ† â­â­â­â­

### ğŸ”— è®¿é—®é“¾æ¥

- **é€‰è‚¡ç­–ç•¥ä¸­å¿ƒ**: http://139.155.158.47/strategy.html
- **APIæ¥å£**: http://139.155.158.47/api/strategy/results?strategy=b1
- **å¥åº·æ£€æŸ¥**: http://139.155.158.47/api/health

### ğŸ“… ä¸‹ä¸€æ­¥è®¡åˆ’

å¯é€‰çš„å¢å¼ºåŠŸèƒ½ï¼š
- [ ] é…ç½®åŸŸåå’ŒSSLè¯ä¹¦
- [ ] æ·»åŠ æ›´å¤šé€‰è‚¡ç­–ç•¥
- [ ] å®ç°å›æµ‹åŠŸèƒ½
- [ ] é‚®ä»¶/å¾®ä¿¡é€šçŸ¥
- [ ] Redisç¼“å­˜ä¼˜åŒ–
- [ ] æ•°æ®å¯è§†åŒ–å›¾è¡¨

---

**ğŸ‰ éƒ¨ç½²å®Œæˆï¼ç³»ç»Ÿè¿è¡Œæ­£å¸¸ï¼Œæ¯å¤©è‡ªåŠ¨æ›´æ–°é€‰è‚¡ç»“æœï¼**

**ç¥éƒ¨ç½²é¡ºåˆ©ï¼** ğŸ‰
